<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
  
<!-- Mirrored from docs.openstack.org/security-guide/block-storage/checklist.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Jan 2017 08:20:56 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>

    <title>OpenStack Docs: Checklist</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link href="../_static/css/bootstrap.min.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="../_static/css/native.css" rel="stylesheet">

<!-- Fonts -->
<link href="../../../maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

<!-- Custom CSS -->
<link href="../_static/css/combined.css" rel="stylesheet">
<link href="../_static/css/styles.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
  


<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17511903-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

  </head>
  <body>
<nav class="navbar navbar-default inner" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="http://docs.openstack.org/"></a>
      </div>
      <div class="search-icon show"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class="search-container tiny">
        <div id="gcse">
          <script type="text/javascript">
(function() {
  var cx = '000108871792296872333:noj9nikm74i';
  var gcse = document.createElement('script');
  gcse.type = 'text/javascript';
  gcse.async = true;
  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
      '//www.google.com/cse/cse.js?cx=' + cx;
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(gcse, s);
})();
          </script>
          <gcse:search gname="standard"></gcse:search>
        </div>
        <i class="fa fa-times close-search"></i>
      </div>
      <ul class="nav navbar-nav navbar-main show">
        <li>
          <div id="gcse-mobile">
            <gcse:search gname="mobile"></gcse:search>
          </div>
        </li>
        <li>
          <a href="http://www.openstack.org/software/" class="drop" id="dropdownMenuSoftware">Software <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/project-navigator/">Project Navigator</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sample-configs/">Sample Configs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/start/">Get Started</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/roadmap/">Roadmap</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/latest-release/">Latest Release</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sourcecode/">Source Code</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/user-stories/" class="drop" id="dropdownMenuUsers">Users <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuUsers">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/user-stories/">Overview</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/enterprise/">OpenStack in the Enterprise</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/appdev/">Application Developers</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org/">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/surveys/landing">User Survey</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/community/" class="drop" id="dropdownMenuCommunity">Community <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuCommunity">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/">Welcome! Start Here</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/">OpenStack Foundation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://wiki.openstack.org/">OpenStack Wiki</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://groups.openstack.org/">User Groups</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/speakers/">Speakers Bureau</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/companies/">Supporting Companies</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/jobs/">Jobs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/join/">Join The Community</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/marketplace/">Marketplace</a>
        </li>
        <li>
          <a href="http://www.openstack.org/events/" class="drop" id="dropdownMenuEvents">Events <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/events/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/summit/">The OpenStack Summit</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/events/">More OpenStack Events</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/events/#openstack_days">OpenStack Days</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/learn/" class="drop" id="dropdownMenuLearn">Learn <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/marketplace/training/">Training</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org/">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://ask.openstack.org/">Ask a Technical Question</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/news/">News</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/blog/">Blog</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/videos/summits">Summit Videos</a></li>
          </ul>
        </li>
        <li>
          <a href="http://docs.openstack.org/">Docs</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row">
  <div class="col-lg-8">
    <h2>Checklist</h2>
  </div>
  <div class="docs-actions">
    
    <a href="volume_wiping.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Volume Wiping"></i></a>
    
    
    <a href="../shared-file-systems.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Shared File Systems"></i></a>
    
    <a id="logABugLink1" href="#" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
  </div>
</div>
          <div class="row docs-byline">
            <div class="docs-updated">updated: 2016-12-30 04:19</div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-top-contents">

<h5><a href="../index-2.html">Contents</a></h5>
<ul>
<li><a class="reference internal" href="#">Checklist</a><ul>
<li><a class="reference internal" href="#check-block-01-is-user-group-ownership-of-config-files-set-to-root-cinder">Check-Block-01: Is user/group ownership of config files set to root/cinder?</a></li>
<li><a class="reference internal" href="#check-block-02-are-strict-permissions-set-for-configuration-files">Check-Block-02: Are strict permissions set for configuration files?</a></li>
<li><a class="reference internal" href="#check-block-03-is-keystone-used-for-authentication">Check-Block-03: Is keystone used for authentication?</a></li>
<li><a class="reference internal" href="#check-block-04-is-tls-enabled-for-authentication">Check-Block-04: Is TLS enabled for authentication?</a></li>
<li><a class="reference internal" href="#check-block-05-does-cinder-communicate-with-nova-over-tls">Check-Block-05: Does cinder communicate with nova over TLS?</a></li>
<li><a class="reference internal" href="#check-block-06-does-cinder-communicate-with-glance-over-tls">Check-Block-06: Does cinder communicate with glance over TLS?</a></li>
<li><a class="reference internal" href="#check-block-07-is-nas-operating-in-a-secure-environment">Check-Block-07: Is NAS operating in a secure environment?</a></li>
<li><a class="reference internal" href="#check-block-08-is-max-size-for-the-body-of-a-request-set-to-default-114688">Check-Block-08: Is max size for the body of a request set to default (114688)?</a></li>
</ul>
</li>
</ul>

              </div>
              <div class="docs-body">

  <div class="section" id="checklist">
<h1>Checklist<a class="headerlink" href="#checklist" title="Permalink to this headline">¶</a></h1>
<div class="section" id="check-block-01-is-user-group-ownership-of-config-files-set-to-root-cinder">
<span id="check-block-01"></span><h2>Check-Block-01: Is user/group ownership of config files set to root/cinder?<a class="headerlink" href="#check-block-01-is-user-group-ownership-of-config-files-set-to-root-cinder" title="Permalink to this headline">¶</a></h2>
<p>Configuration files contain critical parameters and information required
for smooth functioning of the component. If an unprivileged user, either
intentionally or accidentally, modifies or deletes any of the parameters or
the file itself then it would cause severe availability issues resulting in a
denial of service to the other end users. Thus user ownership of such critical
configuration files must be set to root and group ownership must be set to
cinder.</p>
<p>Run the following commands:</p>
<div class="code console highlight-python"><div class="highlight"><pre><span></span>$ stat -L -c &quot;%U %G&quot; /etc/cinder/cinder.conf | egrep &quot;root cinder&quot;
$ stat -L -c &quot;%U %G&quot; /etc/cinder/api-paste.ini | egrep &quot;root cinder&quot;
$ stat -L -c &quot;%U %G&quot; /etc/cinder/policy.json | egrep &quot;root cinder&quot;
$ stat -L -c &quot;%U %G&quot; /etc/cinder/rootwrap.conf | egrep &quot;root cinder&quot;
</pre></div>
</div>
<p><strong>Pass:</strong> If user and group ownership of all these config files is set
to root and cinder respectively. The above commands show output of root cinder.</p>
<p><strong>Fail:</strong> If the above commands does not return any output as the user
and group ownership might have set to any user other than root or any group
other than cinder.</p>
</div>
<div class="section" id="check-block-02-are-strict-permissions-set-for-configuration-files">
<span id="check-block-02"></span><h2>Check-Block-02: Are strict permissions set for configuration files?<a class="headerlink" href="#check-block-02-are-strict-permissions-set-for-configuration-files" title="Permalink to this headline">¶</a></h2>
<p>Similar to the previous check, it is recommended to set strict access
permissions for such configuration files.</p>
<p>Run the following commands:</p>
<div class="code console highlight-python"><div class="highlight"><pre><span></span>$ stat -L -c &quot;%a&quot; /etc/cinder/cinder.conf
$ stat -L -c &quot;%a&quot; /etc/cinder/api-paste.ini
$ stat -L -c &quot;%a&quot; /etc/cinder/policy.json
$ stat -L -c &quot;%a&quot; /etc/cinder/rootwrap.conf
</pre></div>
</div>
<p><strong>Pass:</strong> If permissions are set to 640 or stricter. The permissions of 640
translates into owner r/w, group r, and no rights to others i.e. &#8220;u=rw,g=r,o=&#8221;.
Note that with <a class="reference internal" href="#check-block-01"><span>Check-Block-01: Is user/group ownership of config files set to root/cinder?</span></a> and permissions set to 640, root has
read/write access and cinder has read access to these configuration files. The
access rights can also be validated using the following command. This command
will only be available on your system if it supports ACLs.</p>
<div class="code console highlight-python"><div class="highlight"><pre><span></span>$ getfacl --tabular -a /etc/cinder/cinder.conf
getfacl: Removing leading &#39;/&#39; from absolute path names
# file: etc/cinder/cinder.conf
USER   root  rw-
GROUP  cinder  r--
mask         r--
other        ---
</pre></div>
</div>
<p><strong>Fail:</strong> If permissions are not set to at least 640.</p>
</div>
<div class="section" id="check-block-03-is-keystone-used-for-authentication">
<span id="check-block-03"></span><h2>Check-Block-03: Is keystone used for authentication?<a class="headerlink" href="#check-block-03-is-keystone-used-for-authentication" title="Permalink to this headline">¶</a></h2>
<p>OpenStack supports various authentication strategies like noauth, keystone etc.
If the &#8216;noauth&#8217; strategy is used then the users could interact with OpenStack
services without any authentication. This could be a potential risk since an
attacker might gain unauthorized access to the OpenStack components. Thus it is
strongly recommended that all services must be authenticated with keystone
using their service accounts.</p>
<p><strong>Pass:</strong> If value of parameter <code class="docutils literal"><span class="pre">auth_strategy</span></code> under <code class="docutils literal"><span class="pre">[DEFAULT]</span></code> section
in <code class="docutils literal"><span class="pre">/etc/cinder/cinder.conf</span></code> is set to <code class="docutils literal"><span class="pre">keystone</span></code>.</p>
<p><strong>Fail:</strong> If value of parameter <code class="docutils literal"><span class="pre">auth_strategy</span></code> under <code class="docutils literal"><span class="pre">[DEFAULT]</span></code> section
is set to <code class="docutils literal"><span class="pre">noauth</span></code>.</p>
</div>
<div class="section" id="check-block-04-is-tls-enabled-for-authentication">
<span id="check-block-04"></span><h2>Check-Block-04: Is TLS enabled for authentication?<a class="headerlink" href="#check-block-04-is-tls-enabled-for-authentication" title="Permalink to this headline">¶</a></h2>
<p>OpenStack components communicate with each other using various protocols and
the communication might involve sensitive / confidential data. An attacker may
try to eavesdrop on the channel in order to get access to sensitive
information. Thus all the components must communicate with each other using a
secured communication protocol.</p>
<p><strong>Pass:</strong> If value of parameter <code class="docutils literal"><span class="pre">auth_protocol</span></code> under
<code class="docutils literal"><span class="pre">[keystone_authtoken]</span></code> section in <code class="docutils literal"><span class="pre">/etc/cinder/cinder.conf</span></code> is set to
<code class="docutils literal"><span class="pre">https</span></code>, or if value of parameter <code class="docutils literal"><span class="pre">identity_uri</span></code> under
<code class="docutils literal"><span class="pre">[keystone_authtoken]</span></code> section in <code class="docutils literal"><span class="pre">/etc/cinder/cinder.conf</span></code> is set to
Identity API endpoint starting with <code class="docutils literal"><span class="pre">https://</span></code> and value of parameter
<code class="docutils literal"><span class="pre">insecure</span></code> under the same <code class="docutils literal"><span class="pre">[keystone_authtoken]</span></code> section in the same
<code class="docutils literal"><span class="pre">/etc/cinder/cinder.conf</span></code> is set to <code class="docutils literal"><span class="pre">False</span></code>.</p>
<p><strong>Fail:</strong> If value of parameter <code class="docutils literal"><span class="pre">auth_protocol</span></code> under
<code class="docutils literal"><span class="pre">[keystone_authtoken]</span></code> section in <code class="docutils literal"><span class="pre">/etc/cinder/cinder.conf</span></code> is set to
<code class="docutils literal"><span class="pre">http</span></code>, or if value of parameter <code class="docutils literal"><span class="pre">identity_uri</span></code> under
<code class="docutils literal"><span class="pre">[keystone_authtoken]</span></code> section in <code class="docutils literal"><span class="pre">/etc/cinder/cinder.conf</span></code> is not set
to Identity API endpoint starting with <code class="docutils literal"><span class="pre">https://</span></code> or value of parameter
<code class="docutils literal"><span class="pre">insecure</span></code> under the same <code class="docutils literal"><span class="pre">[keystone_authtoken]</span></code> section in the same
<code class="docutils literal"><span class="pre">/etc/cinder/cinder.conf</span></code> is set to <code class="docutils literal"><span class="pre">True</span></code>.</p>
</div>
<div class="section" id="check-block-05-does-cinder-communicate-with-nova-over-tls">
<span id="check-block-05"></span><h2>Check-Block-05: Does cinder communicate with nova over TLS?<a class="headerlink" href="#check-block-05-does-cinder-communicate-with-nova-over-tls" title="Permalink to this headline">¶</a></h2>
<p>OpenStack components communicate with each other using various protocols and
the communication might involve sensitive / confidential data. An attacker may
try to eavesdrop on the channel in order to get access to sensitive
information. Thus all the components must communicate with each other using a
secured communication protocol.</p>
<p><strong>Pass:</strong> If value of parameter <code class="docutils literal"><span class="pre">nova_api_insecure</span></code> under <code class="docutils literal"><span class="pre">[DEFAULT]</span></code>
section in <code class="docutils literal"><span class="pre">/etc/cinder/cinder.conf</span></code> is set to <code class="docutils literal"><span class="pre">False</span></code>.</p>
<p><strong>Fail:</strong> If value of parameter <code class="docutils literal"><span class="pre">nova_api_insecure</span></code> under <code class="docutils literal"><span class="pre">[DEFAULT]</span></code>
section in <code class="docutils literal"><span class="pre">/etc/cinder/cinder.conf</span></code> is set to <code class="docutils literal"><span class="pre">True</span></code>.</p>
</div>
<div class="section" id="check-block-06-does-cinder-communicate-with-glance-over-tls">
<span id="check-block-06"></span><h2>Check-Block-06: Does cinder communicate with glance over TLS?<a class="headerlink" href="#check-block-06-does-cinder-communicate-with-glance-over-tls" title="Permalink to this headline">¶</a></h2>
<p>Similar to previous check (<a class="reference internal" href="#check-block-05"><span>Check-Block-05: Does cinder communicate with nova over TLS?</span></a>), it is recommended
all the components must communicate with each other using a secured
communication protocol.</p>
<p><strong>Pass:</strong> If value of parameter <code class="docutils literal"><span class="pre">glance_api_insecure</span></code> under <code class="docutils literal"><span class="pre">[DEFAULT]</span></code>
section in <code class="docutils literal"><span class="pre">/etc/cinder/cinder.conf</span></code> is set to <code class="docutils literal"><span class="pre">False</span></code>.</p>
<p><strong>Fail:</strong> If value of parameter <code class="docutils literal"><span class="pre">glance_api_insecure</span></code> under <code class="docutils literal"><span class="pre">[DEFAULT]</span></code>
section in <code class="docutils literal"><span class="pre">/etc/cinder/cinder.conf</span></code> is set to <code class="docutils literal"><span class="pre">True</span></code>.</p>
</div>
<div class="section" id="check-block-07-is-nas-operating-in-a-secure-environment">
<span id="check-block-07"></span><h2>Check-Block-07: Is NAS operating in a secure environment?<a class="headerlink" href="#check-block-07-is-nas-operating-in-a-secure-environment" title="Permalink to this headline">¶</a></h2>
<p>Cinder supports an NFS driver which works differently than a traditional block
storage driver. The NFS driver does not actually allow an instance to access a
storage device at the block level. Instead, files are created on an NFS share
and mapped to instances, which emulates a block device. Cinder supports secure
configuration for such files by controlling the file permissions when cinder
volumes are created. Cinder configuration can also control whether file
operations are run as the root user or the current OpenStack process user.</p>
<p><strong>Pass:</strong> If value of parameter <code class="docutils literal"><span class="pre">nas_secure_file_permissions</span></code> under
<code class="docutils literal"><span class="pre">[DEFAULT]</span></code> section in <code class="docutils literal"><span class="pre">/etc/cinder/cinder.conf</span></code> is set to <code class="docutils literal"><span class="pre">auto</span></code>.
When set to <code class="docutils literal"><span class="pre">auto</span></code>, a check is done during cinder startup to determine if
there are existing cinder volumes, no volumes will set the option to <code class="docutils literal"><span class="pre">True</span></code>,
and use secure file permissions. The detection of existing volumes will set the
option to <code class="docutils literal"><span class="pre">False</span></code>, and use the current insecure method of handling file
permissions. If value of parameter <code class="docutils literal"><span class="pre">nas_secure_file_operations</span></code> under
<code class="docutils literal"><span class="pre">[DEFAULT]</span></code> section in <code class="docutils literal"><span class="pre">/etc/cinder/cinder.conf</span></code> is set to <code class="docutils literal"><span class="pre">auto</span></code>.
When set to &#8220;auto&#8221;, a check is done during cinder startup to determine if there
are existing cinder volumes, no volumes will set the option to <code class="docutils literal"><span class="pre">True</span></code>, be
secure and do NOT run as the <code class="docutils literal"><span class="pre">root</span></code> user. The detection of existing volumes
will set the option to <code class="docutils literal"><span class="pre">False</span></code>, and use the current method of running
operations as the <code class="docutils literal"><span class="pre">root</span></code> user. For new installations, a &#8220;marker file&#8221; is
written so that subsequent restarts of cinder will know what the original
determination had been.</p>
<p><strong>Fail:</strong> If value of parameter <code class="docutils literal"><span class="pre">nas_secure_file_permissions</span></code> under
<code class="docutils literal"><span class="pre">[DEFAULT]</span></code> section in <code class="docutils literal"><span class="pre">/etc/cinder/cinder.conf</span></code> is set to <code class="docutils literal"><span class="pre">False</span></code>
and if value of parameter <code class="docutils literal"><span class="pre">nas_secure_file_operations</span></code> under
<code class="docutils literal"><span class="pre">[DEFAULT]</span></code> section in <code class="docutils literal"><span class="pre">/etc/cinder/cinder.conf</span></code> is set to <code class="docutils literal"><span class="pre">False</span></code>.</p>
</div>
<div class="section" id="check-block-08-is-max-size-for-the-body-of-a-request-set-to-default-114688">
<span id="check-block-08"></span><h2>Check-Block-08: Is max size for the body of a request set to default (114688)?<a class="headerlink" href="#check-block-08-is-max-size-for-the-body-of-a-request-set-to-default-114688" title="Permalink to this headline">¶</a></h2>
<p>If the maximum body size per request is not defined, the attacker can craft an
arbitrary osapi request of large size causing the service to crash and finally
resulting in Denial Of Service attack. Assigning the maximum value ensures that
any malicious oversized request gets blocked ensuring continued availability of
the service.</p>
<p><strong>Pass:</strong> If value of parameter <code class="docutils literal"><span class="pre">osapi_max_request_body_size</span></code> under
<code class="docutils literal"><span class="pre">[DEFAULT]</span></code> section in <code class="docutils literal"><span class="pre">/etc/cinder/cinder.conf</span></code> is set to <code class="docutils literal"><span class="pre">114688</span></code>
or if value of parameter <code class="docutils literal"><span class="pre">max_request_body_size</span></code> under <code class="docutils literal"><span class="pre">[oslo_middleware]</span></code>
section in <code class="docutils literal"><span class="pre">/etc/cinder/cinder.conf</span></code> is set to <code class="docutils literal"><span class="pre">114688</span></code>.</p>
<p><strong>Fail:</strong> If value of parameter <code class="docutils literal"><span class="pre">osapi_max_request_body_size</span></code> under
<code class="docutils literal"><span class="pre">[DEFAULT]</span></code> section in <code class="docutils literal"><span class="pre">/etc/cinder/cinder.conf</span></code> is not set to
<code class="docutils literal"><span class="pre">114688</span></code> or if value of parameter <code class="docutils literal"><span class="pre">max_request_body_size</span></code> under
<code class="docutils literal"><span class="pre">[oslo_middleware]</span></code> section in <code class="docutils literal"><span class="pre">/etc/cinder/cinder.conf</span></code> is not set to
<code class="docutils literal"><span class="pre">114688</span></code>.</p>
</div>
</div>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="volume_wiping.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Volume Wiping"></i></a>
          
          
            <a href="../shared-file-systems.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Shared File Systems"></i></a>
          
            <a id="logABugLink3" href="#" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">updated: 2016-12-30 04:19</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<a href="https://creativecommons.org/licenses/by/3.0/">
 <img src="../_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
</a>
<p>
 Except where otherwise noted, this document is licensed under
 <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons
 Attribution 3.0 License</a>. See all <a href="http://www.openstack.org/legal">
 OpenStack Legal Documents</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
              <a href="http://ask.openstack.org/" class="docs-footer-actions"><i class="fa fa-question-circle"></i> questions?</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="search-icon show">
    <i class="fa fa-search"></i> Search
  </div>
  <div class="btn-group docs-sidebar-releases">
    <button onclick="location.href='http://docs.openstack.org/'" class="btn docs-sidebar-home" data-toggle="tooltip" data-placement="top" title="Docs Home"><i class="fa fa-arrow-circle-o-left"></i></button>
<button href="#" type="button" data-toggle="dropdown" class="btn docs-sidebar-release-select">OpenStack Documentation<i class="fa fa-caret-down"></i></button>
    <ul class="dropdown-menu docs-sidebar-dropdown" role="menu" aria-labelledby="dLabel">
      <li role="presentation" class="dropdown-header">Guides</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#install-guides">Install Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#user-guides">User Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#configuration-guides">Configuration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#ops-and-admin-guides">Operations and Administration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#api-guides">API Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#contributor-guides">Contributor Guides</a></li>
      <li role="presentation" class="dropdown-header">Languages</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ja/">日本語 (Japanese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/de/">Deutsch (German)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/fr/">Français (French)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/pt_BR/">Português (Portuguese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/zh_CN/">简体中文 (Simplified Chinese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ko_KR/">한국어 (Korean)</a></li>
    </ul>
  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <a href="../index-2.html" class="docs-sidebar-section-title"><h4>Contents</h4></a>
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../common/conventions.html">Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../documentation.html">System documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../management.html">Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../secure-communication.html">Secure communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-endpoints.html">API endpoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../identity.html">Identity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dashboard.html">Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compute.html">Compute</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../block-storage.html">Block Storage</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="volume_wiping.html">Volume Wiping</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Checklist</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../shared-file-systems.html">Shared File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networking.html">Networking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../object-storage.html">Object Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../messaging.html">Message queuing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-processing.html">Data processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tenant-data.html">Tenant data privacy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../instance-management.html">Instance security management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../monitoring-logging.html">Monitoring and logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compliance.html">Compliance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security-review.html">Security Review</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../checklist.html">Security Checklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/app-support.html">Community support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../common/glossary.html">Glossary</a></li>
</ul>

    </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>OpenStack</h3>
        <ul>
          <li><a href="http://openstack.org/projects/">Projects</a></li>
          <li><a href="http://openstack.org/projects/openstack-security/">OpenStack Security</a></li>
          <li><a href="http://openstack.org/projects/openstack-faq/">Common Questions</a></li>
          <li><a href="http://openstack.org/blog/">Blog</a></li>
          <li><a href="http://openstack.org/news/">News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Community</h3>
        <ul>
          <li><a href="http://openstack.org/community/">User Groups</a></li>
          <li><a href="http://openstack.org/community/events/">Events</a></li>
          <li><a href="http://openstack.org/community/jobs/">Jobs</a></li>
          <li><a href="http://openstack.org/foundation/companies/">Companies</a></li>
          <li><a href="http://docs.openstack.org/infra/manual/developers.html">Contribute</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Documentation</h3>
        <ul>
          <li><a href="http://docs.openstack.org/">OpenStack Manuals</a></li>
          <li><a href="http://openstack.org/software/start/">Getting Started</a></li>
          <li><a href="http://developer.openstack.org/">API Documentation</a></li>
          <li><a href="https://wiki.openstack.org/">Wiki</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Branding & Legal</h3>
        <ul>
          <li><a href="http://openstack.org/brand/">Logos & Guidelines</a></li>
          <li><a href="http://openstack.org/brand/openstack-trademark-policy/">Trademark Policy</a></li>
          <li><a href="http://openstack.org/privacy/">Privacy Policy</a></li>
          <li><a href="https://wiki.openstack.org/wiki/How_To_Contribute#Contributor_License_Agreement">OpenStack CLA</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Stay In Touch</h3>
        <a href="https://twitter.com/OpenStack" target="_blank" class="social-icons footer-twitter"></a>
        <a href="https://www.facebook.com/openstack" target="_blank" class="social-icons footer-facebook"></a>
        <a href="https://www.linkedin.com/company/openstack" target="_blank" class="social-icons footer-linkedin"></a>
        <a href="https://www.youtube.com/user/OpenStackFoundation" target="_blank" class="social-icons footer-youtube"></a>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>. Openstack.org is powered by
          <a href="http://rackspace.com/" target="_blank">Rackspace Cloud Computing</a>.
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script type="text/javascript" src="../_static/js/jquery-1.11.3.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="../_static/js/bootstrap.min.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="../_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="../_static/js/docs.js"></script>

<!-- Popovers -->
<script type="text/javascript" src="../_static/js/webui-popover.js"></script>

<!-- Javascript for page -->
<script language="JavaScript">
/* build a description of this page including SHA, source location on git repo,
   build time and the project's launchpad bug tag. Set the HREF of the bug
   buttons */

    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
        /* The URL of the source file on Git is based on the giturl variable
           in conf.py, which must be manually initialized to the source file
           URL in Git.
           "pagename" is a standard sphinx parameter containing the name of
           the source file, without extension.                             */

        var sourceFile = "block-storage/checklist" + ".rst";
        gitURL = "Source: http://git.openstack.org/cgit/openstack/security-doc/tree/security-guide/source" + "/" + sourceFile;

    /* gitsha, project and bug_tag rely on variables in conf.py */
    var gitSha = "SHA: 055d541813458cf736077816d60a91a7e58b4add";
        var bugProject = "openstack-manuals";
        var bugTitle = "Checklist in Security Guide";
    var fieldTags = "sec-guide";

    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 0.0.1 on 2016-12-30 04:19";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags);
</script>

<!-- Javascript for search boxes (both sidebar and top nav) -->
<script type="text/javascript">
(function() {
var cx = '000108871792296872333:noj9nikm74i';
var gcse = document.createElement('script');
gcse.type = 'text/javascript';
gcse.async = true;
gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
'//www.google.com/cse/cse.js?cx=' + cx;
var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(gcse, s);
})();
</script>

  </body>

<!-- Mirrored from docs.openstack.org/security-guide/block-storage/checklist.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Jan 2017 08:20:56 GMT -->
</html>