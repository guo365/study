<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
  
<!-- Mirrored from docs.openstack.org/admin-guide/cli-nova-manage-projects-security.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Jan 2017 09:12:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>

    <title>OpenStack Docs: Manage project security</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link href="_static/css/bootstrap.min.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="_static/css/native.css" rel="stylesheet">

<!-- Fonts -->
<link href="../../maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

<!-- Custom CSS -->
<link href="_static/css/combined.css" rel="stylesheet">
<link href="_static/css/styles.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
  


<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','../../www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17511903-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

  </head>
  <body>
<nav class="navbar navbar-default inner" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="http://docs.openstack.org/"></a>
      </div>
      <div class="search-icon show"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class="search-container tiny">
        <div id="gcse">
          <script type="text/javascript">
(function() {
  var cx = '000108871792296872333:noj9nikm74i';
  var gcse = document.createElement('script');
  gcse.type = 'text/javascript';
  gcse.async = true;
  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
      '//www.google.com/cse/cse.js?cx=' + cx;
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(gcse, s);
})();
          </script>
          <gcse:search gname="standard"></gcse:search>
        </div>
        <i class="fa fa-times close-search"></i>
      </div>
      <ul class="nav navbar-nav navbar-main show">
        <li>
          <div id="gcse-mobile">
            <gcse:search gname="mobile"></gcse:search>
          </div>
        </li>
        <li>
          <a href="http://www.openstack.org/software/" class="drop" id="dropdownMenuSoftware">Software <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/project-navigator/">Project Navigator</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sample-configs/">Sample Configs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/start/">Get Started</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/roadmap/">Roadmap</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/latest-release/">Latest Release</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sourcecode/">Source Code</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/user-stories/" class="drop" id="dropdownMenuUsers">Users <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuUsers">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/user-stories/">Overview</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/enterprise/">OpenStack in the Enterprise</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/appdev/">Application Developers</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org/">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/surveys/landing">User Survey</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/community/" class="drop" id="dropdownMenuCommunity">Community <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuCommunity">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/">Welcome! Start Here</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/">OpenStack Foundation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://wiki.openstack.org/">OpenStack Wiki</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://groups.openstack.org/">User Groups</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/speakers/">Speakers Bureau</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/companies/">Supporting Companies</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/jobs/">Jobs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/join/">Join The Community</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/marketplace/">Marketplace</a>
        </li>
        <li>
          <a href="http://www.openstack.org/events/" class="drop" id="dropdownMenuEvents">Events <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/events/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/summit/">The OpenStack Summit</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/events/">More OpenStack Events</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/events/#openstack_days">OpenStack Days</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/learn/" class="drop" id="dropdownMenuLearn">Learn <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/marketplace/training/">Training</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org/">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://ask.openstack.org/">Ask a Technical Question</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/news/">News</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/blog/">Blog</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/videos/summits">Summit Videos</a></li>
          </ul>
        </li>
        <li>
          <a href="http://docs.openstack.org/">Docs</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row">
  <div class="col-lg-8">
    <h2>Manage project security</h2>
  </div>
  <div class="docs-actions">
    
    <a href="cli-manage-projects-users-and-roles.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Manage projects, users, and roles"></i></a>
    
    
    <a href="cli-manage-services.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Manage services"></i></a>
    
    <a id="logABugLink1" href="#" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
  </div>
</div>
          <div class="row docs-byline">
            <div class="docs-updated">updated: 2016-12-30 18:29</div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-top-contents">

<h5><a href="index-2.html">Contents</a></h5>
<ul>
<li><a class="reference internal" href="#">Manage project security</a><ul>
<li><a class="reference internal" href="#list-and-view-current-security-groups">List and view current security groups</a></li>
<li><a class="reference internal" href="#create-a-security-group">Create a security group</a></li>
<li><a class="reference internal" href="#delete-a-security-group">Delete a security group</a></li>
<li><a class="reference internal" href="#create-security-group-rules-for-a-cluster-of-instances">Create security group rules for a cluster of instances</a></li>
</ul>
</li>
</ul>

              </div>
              <div class="docs-body">

  <div class="section" id="manage-project-security">
<h1>Manage project security<a class="headerlink" href="#manage-project-security" title="Permalink to this headline">¶</a></h1>
<p>Security groups are sets of IP filter rules that are applied to all
project instances, which define networking access to the instance. Group
rules are project specific; project members can edit the default rules
for their group and add new rule sets.</p>
<p>All projects have a <code class="docutils literal"><span class="pre">default</span></code> security group which is applied to any
instance that has no other defined security group. Unless you change the
default, this security group denies all incoming traffic and allows only
outgoing traffic to your instance.</p>
<p>You can use the <code class="docutils literal"><span class="pre">allow_same_net_traffic</span></code> option in the
<code class="docutils literal"><span class="pre">/etc/nova/nova.conf</span></code> file to globally control whether the rules apply
to hosts which share a network.</p>
<p>If set to:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">True</span></code> (default), hosts on the same subnet are not filtered and are
allowed to pass all types of traffic between them. On a flat network,
this allows all instances from all projects unfiltered communication.
With VLAN networking, this allows access between instances within the
same project. You can also simulate this setting by configuring the
default security group to allow all traffic from the subnet.</li>
<li><code class="docutils literal"><span class="pre">False</span></code>, security groups are enforced for all connections.</li>
</ul>
<p>Additionally, the number of maximum rules per security group is
controlled by the <code class="docutils literal"><span class="pre">security_group_rules</span></code> and the number of allowed
security groups per project is controlled by the <code class="docutils literal"><span class="pre">security_groups</span></code>
quota (see <a class="reference internal" href="cli-set-quotas.html#manage-quotas"><span>Manage quotas</span></a>).</p>
<div class="section" id="list-and-view-current-security-groups">
<h2>List and view current security groups<a class="headerlink" href="#list-and-view-current-security-groups" title="Permalink to this headline">¶</a></h2>
<p>From the command-line you can get a list of security groups for the
project, using the <strong class="command">openstack</strong> and <strong class="command">nova</strong> commands:</p>
<ol class="arabic">
<li><p class="first">Ensure your system variables are set for the user and project for
which you are checking security group rules. For example:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">export OS_USERNAME=demo00</span>
<span class="go">export OS_TENANT_NAME=tenant01</span>
</pre></div>
</div>
</li>
<li><p class="first">Output security groups, as follows:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack security group list
<span class="go">+--------------------------------------+---------+-------------+</span>
<span class="go">| Id                                   | Name    | Description |</span>
<span class="go">+--------------------------------------+---------+-------------+</span>
<span class="go">| 73580272-d8fa-4927-bd55-c85e43bc4877 | default | default     |</span>
<span class="go">| 6777138a-deb7-4f10-8236-6400e7aff5b0 | open    | all ports   |</span>
<span class="go">+--------------------------------------+---------+-------------+</span>
</pre></div>
</div>
</li>
<li><p class="first">View the details of a group, as follows:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack security group rule list GROUPNAME
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack security group rule list open
<span class="go">+--------------------------------------+-------------+-----------+-----------------+-----------------------+</span>
<span class="go">| ID                                   | IP Protocol | IP Range  | Port Range      | Remote Security Group |</span>
<span class="go">+--------------------------------------+-------------+-----------+-----------------+-----------------------+</span>
<span class="go">| 353d0611-3f67-4848-8222-a92adbdb5d3a | udp         | 0.0.0.0/0 | 1:65535         | None                  |</span>
<span class="go">| 63536865-e5b6-4df1-bac5-ca6d97d8f54d | tcp         | 0.0.0.0/0 | 1:65535         | None                  |</span>
<span class="go">+--------------------------------------+-------------+-----------+-----------------+-----------------------+</span>
</pre></div>
</div>
<p>These rules are allow type rules as the default is deny. The first
column is the IP protocol (one of icmp, tcp, or udp). The second and
third columns specify the affected port range. The third column
specifies the IP range in CIDR format. This example shows the full
port range for all protocols allowed from all IPs.</p>
</li>
</ol>
</div>
<div class="section" id="create-a-security-group">
<h2>Create a security group<a class="headerlink" href="#create-a-security-group" title="Permalink to this headline">¶</a></h2>
<p>When adding a new security group, you should pick a descriptive but
brief name. This name shows up in brief descriptions of the instances
that use it where the longer description field often does not. For
example, seeing that an instance is using security group &#8220;http&#8221; is much
easier to understand than &#8220;bobs_group&#8221; or &#8220;secgrp1&#8221;.</p>
<ol class="arabic">
<li><p class="first">Ensure your system variables are set for the user and project for
which you are creating security group rules.</p>
</li>
<li><p class="first">Add the new security group, as follows:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack security group create GroupName --description Description
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack security group create global_http --description <span class="s2">&quot;Allows Web traffic anywhere on the Internet.&quot;</span>
<span class="go">+-----------------+--------------------------------------------------------------------------------------------------------------------------+</span>
<span class="go">| Field           | Value                                                                                                                    |</span>
<span class="go">+-----------------+--------------------------------------------------------------------------------------------------------------------------+</span>
<span class="go">| created_at      | 2016-11-03T13:50:53Z                                                                                                     |</span>
<span class="go">| description     | Allows Web traffic anywhere on the Internet.                                                                             |</span>
<span class="go">| headers         |                                                                                                                          |</span>
<span class="go">| id              | c0b92b20-4575-432a-b4a9-eaf2ad53f696                                                                                     |</span>
<span class="go">| name            | global_http                                                                                                              |</span>
<span class="go">| project_id      | 5669caad86a04256994cdf755df4d3c1                                                                                         |</span>
<span class="go">| project_id      | 5669caad86a04256994cdf755df4d3c1                                                                                         |</span>
<span class="go">| revision_number | 1                                                                                                                        |</span>
<span class="go">| rules           | created_at=&#39;2016-11-03T13:50:53Z&#39;, direction=&#39;egress&#39;, ethertype=&#39;IPv4&#39;, id=&#39;4d8cec94-e0ee-4c20-9f56-8fb67c21e4df&#39;,      |</span>
<span class="go">|                 | project_id=&#39;5669caad86a04256994cdf755df4d3c1&#39;, revision_number=&#39;1&#39;, updated_at=&#39;2016-11-03T13:50:53Z&#39;                    |</span>
<span class="go">|                 | created_at=&#39;2016-11-03T13:50:53Z&#39;, direction=&#39;egress&#39;, ethertype=&#39;IPv6&#39;, id=&#39;31be2ad1-be14-4aef-9492-ecebede2cf12&#39;,      |</span>
<span class="go">|                 | project_id=&#39;5669caad86a04256994cdf755df4d3c1&#39;, revision_number=&#39;1&#39;, updated_at=&#39;2016-11-03T13:50:53Z&#39;                    |</span>
<span class="go">| updated_at      | 2016-11-03T13:50:53Z                                                                                                     |</span>
<span class="go">+-----------------+--------------------------------------------------------------------------------------------------------------------------+</span>
</pre></div>
</div>
</li>
<li><p class="first">Add a new group rule, as follows:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack security group rule create SEC_GROUP_NAME --protocol PROTOCOL --dst-port FROM_PORT:TO_PORT --remote-ip CIDR
</pre></div>
</div>
<p>The arguments are positional, and the <code class="docutils literal"><span class="pre">from-port</span></code> and <code class="docutils literal"><span class="pre">to-port</span></code>
arguments specify the local port range connections are allowed to
access, not the source and destination ports of the connection. For
example:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack security group rule create global_http --protocol tcp --dst-port 80:80 --remote-ip 0.0.0.0/0
<span class="go">+-------------------+--------------------------------------+</span>
<span class="go">| Field             | Value                                |</span>
<span class="go">+-------------------+--------------------------------------+</span>
<span class="go">| created_at        | 2016-11-06T14:02:00Z                 |</span>
<span class="go">| description       |                                      |</span>
<span class="go">| direction         | ingress                              |</span>
<span class="go">| ethertype         | IPv4                                 |</span>
<span class="go">| headers           |                                      |</span>
<span class="go">| id                | 2ba06233-d5c8-43eb-93a9-8eaa94bc9eb5 |</span>
<span class="go">| port_range_max    | 80                                   |</span>
<span class="go">| port_range_min    | 80                                   |</span>
<span class="go">| project_id        | 5669caad86a04256994cdf755df4d3c1     |</span>
<span class="go">| project_id        | 5669caad86a04256994cdf755df4d3c1     |</span>
<span class="go">| protocol          | tcp                                  |</span>
<span class="go">| remote_group_id   | None                                 |</span>
<span class="go">| remote_ip_prefix  | 0.0.0.0/0                            |</span>
<span class="go">| revision_number   | 1                                    |</span>
<span class="go">| security_group_id | c0b92b20-4575-432a-b4a9-eaf2ad53f696 |</span>
<span class="go">| updated_at        | 2016-11-06T14:02:00Z                 |</span>
<span class="go">+-------------------+--------------------------------------+</span>
</pre></div>
</div>
<p>You can create complex rule sets by creating additional rules. For
example, if you want to pass both HTTP and HTTPS traffic, run:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack security group rule create global_http --protocol tcp --dst-port 443:443 --remote-ip 0.0.0.0/0
<span class="go">+-------------------+--------------------------------------+</span>
<span class="go">| Field             | Value                                |</span>
<span class="go">+-------------------+--------------------------------------+</span>
<span class="go">| created_at        | 2016-11-06T14:09:20Z                 |</span>
<span class="go">| description       |                                      |</span>
<span class="go">| direction         | ingress                              |</span>
<span class="go">| ethertype         | IPv4                                 |</span>
<span class="go">| headers           |                                      |</span>
<span class="go">| id                | 821c3ef6-9b21-426b-be5b-c8a94c2a839c |</span>
<span class="go">| port_range_max    | 443                                  |</span>
<span class="go">| port_range_min    | 443                                  |</span>
<span class="go">| project_id        | 5669caad86a04256994cdf755df4d3c1     |</span>
<span class="go">| project_id        | 5669caad86a04256994cdf755df4d3c1     |</span>
<span class="go">| protocol          | tcp                                  |</span>
<span class="go">| remote_group_id   | None                                 |</span>
<span class="go">| remote_ip_prefix  | 0.0.0.0/0                            |</span>
<span class="go">| revision_number   | 1                                    |</span>
<span class="go">| security_group_id | c0b92b20-4575-432a-b4a9-eaf2ad53f696 |</span>
<span class="go">| updated_at        | 2016-11-06T14:09:20Z                 |</span>
<span class="go">+-------------------+--------------------------------------+</span>
</pre></div>
</div>
<p>Despite only outputting the newly added rule, this operation is
additive (both rules are created and enforced).</p>
</li>
<li><p class="first">View all rules for the new security group, as follows:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack security group rule list global_http
<span class="go">+--------------------------------------+-------------+-----------+-----------------+-----------------------+</span>
<span class="go">| ID                                   | IP Protocol | IP Range  | Port Range      | Remote Security Group |</span>
<span class="go">+--------------------------------------+-------------+-----------+-----------------+-----------------------+</span>
<span class="go">| 353d0611-3f67-4848-8222-a92adbdb5d3a | tcp         | 0.0.0.0/0 | 80:80           | None                  |</span>
<span class="go">| 63536865-e5b6-4df1-bac5-ca6d97d8f54d | tcp         | 0.0.0.0/0 | 443:443         | None                  |</span>
<span class="go">+--------------------------------------+-------------+-----------+-----------------+-----------------------+</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="delete-a-security-group">
<h2>Delete a security group<a class="headerlink" href="#delete-a-security-group" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Ensure your system variables are set for the user and project for
which you are deleting a security group.</p>
</li>
<li><p class="first">Delete the new security group, as follows:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack security group delete GROUPNAME
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack security group delete global_http
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="create-security-group-rules-for-a-cluster-of-instances">
<h2>Create security group rules for a cluster of instances<a class="headerlink" href="#create-security-group-rules-for-a-cluster-of-instances" title="Permalink to this headline">¶</a></h2>
<p>Source Groups are a special, dynamic way of defining the CIDR of allowed
sources. The user specifies a Source Group (Security Group name), and
all the user&#8217;s other Instances using the specified Source Group are
selected dynamically. This alleviates the need for individual rules to
allow each new member of the cluster.</p>
<ol class="arabic">
<li><p class="first">Make sure to set the system variables for the user and project for
which you are creating a security group rule.</p>
</li>
<li><p class="first">Add a source group, as follows:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack security group rule create secGroupName --remote-group source-group <span class="se">\</span>
<span class="go">    --protocol ip-protocol --dst-port from-port:to-port</span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack security group rule create cluster --remote-group global_http <span class="se">\</span>
<span class="go">    --protocol tcp --dst-port 22:22</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">cluster</span></code> rule allows SSH access from any other instance that
uses the <code class="docutils literal"><span class="pre">global_http</span></code> group.</p>
</li>
</ol>
</div>
</div>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="cli-manage-projects-users-and-roles.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Manage projects, users, and roles"></i></a>
          
          
            <a href="cli-manage-services.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Manage services"></i></a>
          
            <a id="logABugLink3" href="#" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">updated: 2016-12-30 18:29</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<a href="https://creativecommons.org/licenses/by/3.0/">
 <img src="_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
</a>
<p>
 Except where otherwise noted, this document is licensed under
 <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons
 Attribution 3.0 License</a>. See all <a href="http://www.openstack.org/legal">
 OpenStack Legal Documents</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
              <a href="http://ask.openstack.org/" class="docs-footer-actions"><i class="fa fa-question-circle"></i> questions?</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="search-icon show">
    <i class="fa fa-search"></i> Search
  </div>
  <div class="btn-group docs-sidebar-releases">
    <button onclick="location.href='http://docs.openstack.org/'" class="btn docs-sidebar-home" data-toggle="tooltip" data-placement="top" title="Docs Home"><i class="fa fa-arrow-circle-o-left"></i></button>
<button href="#" type="button" data-toggle="dropdown" class="btn docs-sidebar-release-select">OpenStack Documentation<i class="fa fa-caret-down"></i></button>
    <ul class="dropdown-menu docs-sidebar-dropdown" role="menu" aria-labelledby="dLabel">
      <li role="presentation" class="dropdown-header">Guides</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#install-guides">Install Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#user-guides">User Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#configuration-guides">Configuration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#ops-and-admin-guides">Operations and Administration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#api-guides">API Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#contributor-guides">Contributor Guides</a></li>
      <li role="presentation" class="dropdown-header">Languages</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ja/">日本語 (Japanese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/de/">Deutsch (German)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/fr/">Français (French)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/pt_BR/">Português (Portuguese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/zh_CN/">简体中文 (Simplified Chinese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ko_KR/">한국어 (Korean)</a></li>
    </ul>
  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <a href="index-2.html" class="docs-sidebar-section-title"><h4>Contents</h4></a>
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="common/conventions.html">Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="common/get-started-with-openstack.html">Get started with OpenStack</a></li>
<li class="toctree-l1"><a class="reference internal" href="identity-management.html">Identity management</a></li>
<li class="toctree-l1"><a class="reference internal" href="dashboard.html">Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="compute.html">Compute</a></li>
<li class="toctree-l1"><a class="reference internal" href="objectstorage.html">Object Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="blockstorage.html">Block Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="shared-file-systems.html">Shared File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="networking.html">Networking</a></li>
<li class="toctree-l1"><a class="reference internal" href="telemetry.html">Telemetry</a></li>
<li class="toctree-l1"><a class="reference internal" href="database.html">Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="baremetal.html">Bare Metal</a></li>
<li class="toctree-l1"><a class="reference internal" href="orchestration.html">Orchestration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="cli.html">OpenStack command-line clients</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="common/cli-overview.html">Command-line client overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="common/cli-install-openstack-command-line-clients.html">Install the OpenStack command-line clients</a></li>
<li class="toctree-l2"><a class="reference internal" href="common/cli-discover-version-number-for-a-client.html">Discover the version number for a client</a></li>
<li class="toctree-l2"><a class="reference internal" href="common/cli-set-environment-variables-using-openstack-rc.html">Set environment variables using the OpenStack RC file</a></li>
<li class="toctree-l2"><a class="reference internal" href="cli-manage-projects-users-and-roles.html">Manage projects, users, and roles</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Manage project security</a></li>
<li class="toctree-l2"><a class="reference internal" href="cli-manage-services.html">Manage services</a></li>
<li class="toctree-l2"><a class="reference internal" href="common/cli-manage-images.html">Manage images</a></li>
<li class="toctree-l2"><a class="reference internal" href="common/cli-manage-volumes.html">Manage volumes</a></li>
<li class="toctree-l2"><a class="reference internal" href="cli-manage-shares.html">Manage shares</a></li>
<li class="toctree-l2"><a class="reference internal" href="cli-manage-flavors.html">Manage flavors</a></li>
<li class="toctree-l2"><a class="reference internal" href="cli-admin-manage-environment.html">Manage the OpenStack environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="cli-set-quotas.html">Manage quotas</a></li>
<li class="toctree-l2"><a class="reference internal" href="cli-analyzing-log-files-with-swift.html">Analyze log files</a></li>
<li class="toctree-l2"><a class="reference internal" href="cli-cinder-scheduling.html">Manage Block Storage scheduling</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cross-project.html">Cross-project features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="common/app-support.html">Community support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="common/glossary.html">Glossary</a></li>
</ul>

    </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>OpenStack</h3>
        <ul>
          <li><a href="http://openstack.org/projects/">Projects</a></li>
          <li><a href="http://openstack.org/projects/openstack-security/">OpenStack Security</a></li>
          <li><a href="http://openstack.org/projects/openstack-faq/">Common Questions</a></li>
          <li><a href="http://openstack.org/blog/">Blog</a></li>
          <li><a href="http://openstack.org/news/">News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Community</h3>
        <ul>
          <li><a href="http://openstack.org/community/">User Groups</a></li>
          <li><a href="http://openstack.org/community/events/">Events</a></li>
          <li><a href="http://openstack.org/community/jobs/">Jobs</a></li>
          <li><a href="http://openstack.org/foundation/companies/">Companies</a></li>
          <li><a href="http://docs.openstack.org/infra/manual/developers.html">Contribute</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Documentation</h3>
        <ul>
          <li><a href="http://docs.openstack.org/">OpenStack Manuals</a></li>
          <li><a href="http://openstack.org/software/start/">Getting Started</a></li>
          <li><a href="http://developer.openstack.org/">API Documentation</a></li>
          <li><a href="https://wiki.openstack.org/">Wiki</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Branding & Legal</h3>
        <ul>
          <li><a href="http://openstack.org/brand/">Logos & Guidelines</a></li>
          <li><a href="http://openstack.org/brand/openstack-trademark-policy/">Trademark Policy</a></li>
          <li><a href="http://openstack.org/privacy/">Privacy Policy</a></li>
          <li><a href="https://wiki.openstack.org/wiki/How_To_Contribute#Contributor_License_Agreement">OpenStack CLA</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Stay In Touch</h3>
        <a href="https://twitter.com/OpenStack" target="_blank" class="social-icons footer-twitter"></a>
        <a href="https://www.facebook.com/openstack" target="_blank" class="social-icons footer-facebook"></a>
        <a href="https://www.linkedin.com/company/openstack" target="_blank" class="social-icons footer-linkedin"></a>
        <a href="https://www.youtube.com/user/OpenStackFoundation" target="_blank" class="social-icons footer-youtube"></a>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>. Openstack.org is powered by
          <a href="http://rackspace.com/" target="_blank">Rackspace Cloud Computing</a>.
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script type="text/javascript" src="_static/js/jquery-1.11.3.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="_static/js/bootstrap.min.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="_static/js/docs.js"></script>

<!-- Popovers -->
<script type="text/javascript" src="_static/js/webui-popover.js"></script>

<!-- Javascript for page -->
<script language="JavaScript">
/* build a description of this page including SHA, source location on git repo,
   build time and the project's launchpad bug tag. Set the HREF of the bug
   buttons */

    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
        /* The URL of the source file on Git is based on the giturl variable
           in conf.py, which must be manually initialized to the source file
           URL in Git.
           "pagename" is a standard sphinx parameter containing the name of
           the source file, without extension.                             */

        var sourceFile = "cli-nova-manage-projects-security" + ".rst";
        gitURL = "Source: http://git.openstack.org/cgit/openstack/openstack-manuals/tree/doc/admin-guide/source" + "/" + sourceFile;

    /* gitsha, project and bug_tag rely on variables in conf.py */
    var gitSha = "SHA: 522e4919f8db2885f022e41fa599c8c3056b8485";
        var bugProject = "openstack-manuals";
        var bugTitle = "Manage project security in Administrator Guide";
    var fieldTags = "admin-guide";

    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 0.9 on 2016-12-30 18:29";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags);
</script>

<!-- Javascript for search boxes (both sidebar and top nav) -->
<script type="text/javascript">
(function() {
var cx = '000108871792296872333:noj9nikm74i';
var gcse = document.createElement('script');
gcse.type = 'text/javascript';
gcse.async = true;
gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
'//www.google.com/cse/cse.js?cx=' + cx;
var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(gcse, s);
})();
</script>

  </body>

<!-- Mirrored from docs.openstack.org/admin-guide/cli-nova-manage-projects-security.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Jan 2017 09:12:09 GMT -->
</html>